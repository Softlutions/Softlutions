<div class="container">
	<!-- ASISTENTE DE CREACIÓN -->
	<wizard on-finish="finishedWizard()"> <wz-step
		wz-title="Crear evento" title="Starting"> <br>
	<br>
	<div class="col-xs-12">
		<div class="row">
			<h1>Crear evento</h1>
			<a class="btn btn-primary btn-sm pull-left" href="#"><i
			class="fa fa-reply"></i> Volver</a>
		</div>
		<br />
		<form class="form-horizontal" name="formCreateEvent"
			ng-submit="formCreateEvent.$valid? ((eventInEdition === null)? createEvent():saveEventChanges()):validationError()">
			<div class="form-group">
				<label class="col-lg-2">Nombre</label>
				<div class="col-lg-10">
					<input ng-model="tempEvent.name" type="text" class="form-control"
						maxlength="50" ng-maxlength="50" required />
				</div>
			</div>

			<div class=form-group>
				<label class="col-lg-2">Fecha del evento</label>
				<div class="col-lg-10">
					<input type='text' class="form-control" data-toggle="tooltip"
						title="{{HOURS_BEFORE_EVENT}} horas de anticipación"
						ng-model="tempEvent.date" id='eventDatePicker' />
				</div>
			</div>

			<div class="form-group">
				<label class="col-lg-2">Descripción</label>
				<div class="col-lg-10">
					<input ng-model="tempEvent.desc" type="text" class="form-control"
						maxlength="150" ng-maxlength="150" required />
				</div>
			</div>

			<div class="form-group">
				<label class="col-lg-2">Descripción larga</label>
				<div class="col-lg-10">
					<textarea ng-model="tempEvent.largeDesc" placeholder="(opcional)"
						class="form-control" rows="5" maxlength="255" ng-maxlength="255"></textarea>
				</div>
			</div>

			<div class="form-group">
				<label class="col-lg-2">Tipo de evento</label>
				<div class="col-lg-10">
					<div class="radio-inline">
						<label> <input type="radio" ng-model="tempEvent.type"
							ng-value="0" checked> Público
						</label>
					</div>
					<div class="radio-inline">
						<label> <input type="radio" ng-model="tempEvent.type"
							ng-value="1"> Privado
						</label>
					</div>
				</div>
			</div>

			<div class="form-group">
				<label class="col-lg-2">Lugar del evento</label>
				<div class="col-lg-10">
					<input ng-model="tempEvent.placeName"
						placeholder="ej: Parque central" type="text" class="form-control"
						maxlength="60" ng-maxlength="60" required>
				</div>
			</div>

			<div class="form-group">
				<div class="col-lg-12">
					<google-map center="map.center" zoom="map.zoom" draggable="true"
						options="map.options" control="map.control"> <markers
						models="map.markers" coords="'self'" options="'options'"
						isLabel='true'> </markers> </google-map>
					<a class="btn btn-primary col-xs-12"
						ng-click="addCurrentLocation()">Ir a mi localización</a>
				</div>
			</div>

			<div class="form-group">
				<div class="col-lg-12">
					<label class="control-label">Buscar lugar</label> <input
						class="form-control col-xs-12" type="text"
						placeholder="San José, Costa Rica" ng-model="tempEvent.address" />
					<a class="btn btn-primary col-xs-12" ng-click="addAddress()">Ir
						a esta dirección</a>
				</div>
			</div>

			<div class="form-group">
				<div class="col-lg-12">
					<label class='control-label'>Imagen principal</label> <img
						ng-src="{{tempEvent.file}}"
						class="img-responsive img-rounded center-block" width="175px"
						height="125px" /> <label class="fa fa-camera btn btn-primary"
						data-toggle="tooltip" title="Adjuntar foto principal"> <input
						id="uploadImageEvent" style="display: none;" type="file"
						name="inputfile" ngf-pattern="'image/*" ngf-max-size="6MB"
						ng-file-select="onFileSelect($files)">
					</label> <label ng-click="tempEvent.file = DEFAULT_IMG"
						ng-show="tempEvent.file != DEFAULT_IMG"
						class="fa fa-trash btn btn-danger col-lg-4" data-toggle="tooltip"
						title="Quitar imagen"></label>
					<p>Formatos válidos: .jpg .png .gif | 6mb max.</p>
				</div>
			</div>

			<div class="form-group">
				<button id="btnEventFormSubmit" type="submit"
					class="btn btn-primary pull-right">Crear</button>
				<a class="btn btn-danger pull-right" ng-click="hiddenEventForm()">Cancelar</a>
			</div>
		</form>
	</div>
	</wz-step> <wz-step wz-title="Crear subastas" title="Continuing"> <br>
	<br>
	<br>
	<br>
	<div class="pull-left">
		<a class="btn btn-primary btn-sm pull-left" href="#"><i
			class="fa fa-reply"></i> Volver</a>
	</div>

	<div class="ibox float-e-margins">
		<div class="ibox-title">
			<h5>Subastas del evento</h5>

			<div class="pull-right">
				<a class="btn btn-primary btn-xs pull-right"
					ng-click="auctionEventServices(); catalogsList()"
					data-toggle="modal" data-target="#modalAuctionEventServices">Subastar
					servicios</a>
			</div>
		</div>
		<div class="ibox-content">
			<div ng-hide="auctionsEvent.length">
				<p>No hay subastas para este evento</p>
			</div>
			<table class="table table-hover table-responsive"
				ng-show="auctionsEvent.length">
				<thead>
					<tr>
						<th class="col-sm-3">Nombre</th>
						<th>Descripción</th>
						<th class="col-sm-3">Fecha de finalización</th>
						<th>Opciones</th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="auction in auctionsEvent">
						<td>{{auction.name}}</td>
						<td>{{auction.description}}</td>
						<td>{{auction.date | date:'dd-MM-yyyy hh:mma'}}</td>
						<td><a class="btn btn-primary btn-sm"
							ng-click="loadAuctionServices($index); showServiceList();">
								Ver servicios</a></td>
						<td ng-if="auction.state == 1">
							<button id="finishAuctionId-{{auction.auctionId}}"
								class="btn btn-danger btn-sm"
								ng-click="finishAuction(auction.auctionId)">Finalizar
								subasta</button>
						</td>
						<td ng-if="auction.state != 1">
							<button id="finishAuctionId-{{auction.auctionId}}"
								class="btn btn-warning btn-sm"
								ng-click="finishAuction(auction.auctionId)" disabled>Finalizada</button>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
	<div id="modalAuctionEventServices" class="modal fade" role="dialog">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h4 class="modal-title">Crear subasta para un servicio del
						evento</h4>
				</div>

				<div class="modal-body">
					<div class="row">
						<div class="col-sm-12">
							<form class="form-horizontal">

								<div class="form-group">
									<label class="col-lg-2 control-label">Nombre</label>
									<div class="col-lg-10">
										<input type="text" placeholder="Nombre" class="form-control"
											ng-model="tempAuction.name">
									</div>
								</div>
								<div class="form-group">
									<label class="col-lg-2 control-label">Tipo de servicio
										a subastar</label>
									<div class="col-lg-10">
										<select id="cboAuctionCatalogs" class="form-control"
											ng-options="c as c.name for c in catalogs"
											ng-model="tempAuction.selected"></select>
									</div>
								</div>
								<div class="form-group">
									<label class="col-lg-2 control-label">Descripción</label>
									<div class="col-lg-10">
										<textarea rows="5" placeholder="Descripción"
											class="form-control" ng-model="tempAuction.description"></textarea>
									</div>
								</div>

								<div class="form-group">
									<label class="col-lg-2 control-label">Fecha de
										finalización</label>
									<div class="col-lg-10">
										<input type='text' class="form-control"
											ng-model="tempAuction.date" id='datetimepicker' />
									</div>
								</div>
							</form>
						</div>
					</div>
				</div>

				<div class="modal-footer">
					<button type="button" class="btn btn-primary" id="btnCreateAuction"
						ng-click="createAuction()">Crear subasta</button>
				</div>
			</div>
		</div>
	</div>
	</wz-step> </wizard>
</div>