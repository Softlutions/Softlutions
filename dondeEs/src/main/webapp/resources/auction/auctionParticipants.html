<div class="container">

	<div class="col-lg-11">
		<a class="btn btn-primary btn-sm pull-left" href="app#/auctions"><i class="fa fa-reply"></i> Volver</a>
		<div class="ibox float-e-margins">
			<div class="ibox-title">
			<button type="button" class="btn btn-primary btn-xs pull-right" id="btnParticipate" ng-click="loadServices()"
					ng-if="$parent.permissions.isPrestatario" data-toggle="modal" data-target="#registerModal1">Participar</button>
				<h4>Participantes de la subasta</h4>
			</div>
			<div class="ibox-content" ng-show="auctionServices.length" >
				<table class="table table-hover" ng-table="auctionServicesTable" show-filter="true">
					<thead>
						<tr>
							<th>Nombre</th>
							<th>Comentario</th>
							<th>Precio</th>
							<th>Fecha de ingreso</th>
						</tr>
					</thead>
					<tbody ng-repeat="service in $data">
						<tr>
							<td>{{ service.service.name }}</td>
							<td>{{ service.description }}</td>
							<td>{{ service.price | currency:"â‚¡":0}}</td>
							<td>{{ service.date | date:"dd/MM/yyyy ' | ' h:mma"}}</td>
						</tr>
					</tbody>
				</table>
			</div>
			<div class="ibox-content" ng-hide="auctionServices.length" >
				<p>No hay participantes registrados.</p>
			</div>
		</div>
	</div>
	
	<div id="registerModal1" class="modal fade" role="dialog">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h4 class="modal-title">Participar en subasta</h4>
				</div>
				<form class="form-horizontal" name="formJoinAuction" ng-submit="formJoinAuction.$valid ? joinAuction() : validationError()">
					<div class="modal-body">
						<div class="form-group">
							<label class="col-lg-2 control-label">Servicio</label>
							<div class="col-lg-10">
								<select class="form-control m-b"
									ng-options="service as service.name for service in services track by service.serviceId"
									ng-model="auctionService.service">
								</select>
							</div>
						</div>
						<div class="form-group">
							<label class="col-lg-2 control-label">Comentario</label>
							<div class="col-lg-10">
								<textarea rows="5" placeholder="Comentario" class="form-control"
									ng-model="auctionService.description" ng-maxlength="255" autofocus required>
								</textarea>
							</div>
						</div>
						<div class="form-group">
							<label class="col-lg-2 control-label">Precio</label>
							<div class="col-lg-10">
								<input type="text" ng-keyup="formatPrice(auctionService.price)" class="form-control"
									ng-model="auctionService.price" required>
							</div>
						</div>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-sm btn-danger" data-dismiss="modal">Cancelar</button>
						<button type="submit" class="btn btn-sm btn-primary"><b>{{$parent.permissions.isPrestatario ? 'Participar' : 'No'}}</b></button>
					</div>
				</form>
			</div>
		</div>
	</div>

</div>